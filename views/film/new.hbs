<style>
    .drag-image {
        border: 1.5px dashed #ffff;
        aspect-ratio: 3/4;
        width: 350px;
        border-radius: 5px;
        font-weight: 400;
        display: flex;
        align-items: center;
        justify-content: center;
        flex-direction: column;
    }

    .drag-image-background {
        border: 1.5px dashed #ffff;
        border-radius: 5px;
        font-weight: 400;
        display: flex;
        align-items: center;
        justify-content: center;
        flex-direction: column;
    }

    .drag-image.active,
    .drag-image-background.active {
        border: 2px solid #fff;
        background-color: white !important;
    }

    .drag-image .icon,
    .drag-image-background .icon {
        font-size: 30px;
        color: #fff;
    }

    .drag-image h6,
    .drag-image-background h6 {
        font-size: 20px;
        font-weight: 300;
        color: #fff;
    }

    .drag-image span,
    .drag-image-background span {
        font-size: 14px;
        font-weight: 300;
        color: #fff;
        margin: 10px 0 15px 0;
    }

    .drag-image button,
    .drag-image-background button {
        padding: 10px 25px;
        font-size: 14px;
        font-weight: 300;
        border: none;
        outline: none;
        background: transparent;
        color: #fff;
        border: 1px solid #fff;
        border-radius: 5px;
        cursor: pointer;
        transition: all 0.5s;
    }

    .drag-image button:hover,
    .drag-image-background button:hover {
        background-color: #fff;
        color: red;
    }

    .drag-image img {
        width: 100%;
        aspect-ratio: 3/4;
    }

    .drag-image-background img {
        width: 100%;
        height: 100%;
        object-fit: cover;
    }
</style>

<header class="app-header fixed-top">
    <div class="app-header-inner">
        <div class="container-fluid py-2">
            <div class="app-header-content">
                <div class="row justify-content-between align-items-center">

                    <div class="col-auto">
                        <a id="sidepanel-toggler" class="sidepanel-toggler d-inline-block d-xl-none" href="#">
                            <svg xmlns="http://www.w3.org/2000/svg" width="30" height="30" viewBox="0 0 30 30"
                                role="img">
                                <title>Menu</title>
                                <path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10"
                                    stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path>
                            </svg>
                        </a>
                    </div><!--//col-->
                    <div class="search-mobile-trigger d-sm-none col">
                        <i class="search-mobile-trigger-icon fas fa-search"></i>
                    </div><!--//col-->
                    <div class="app-search-box col">
                        <form class="app-search-form">
                            <input type="text" placeholder="Search..." name="search" class="form-control search-input">
                            <button type="submit" class="btn search-btn btn-primary" value="Search"><i
                                    class="fas fa-search"></i></button>
                        </form>
                    </div><!--//app-search-box-->

                    <div class="app-utilities col-auto">
                        <div class="app-utility-item app-notifications-dropdown dropdown">
                            <a class="dropdown-toggle no-toggle-arrow" id="notifications-dropdown-toggle"
                                data-bs-toggle="dropdown" href="#" role="button" aria-expanded="false"
                                title="Notifications">
                                <!--//Bootstrap Icons: https://icons.getbootstrap.com/ -->
                                <svg width="1em" height="1em" viewBox="0 0 16 16" class="bi bi-bell icon"
                                    fill="currentColor" xmlns="http://www.w3.org/2000/svg">
                                    <path d="M8 16a2 2 0 0 0 2-2H6a2 2 0 0 0 2 2z" />
                                    <path fill-rule="evenodd"
                                        d="M8 1.918l-.797.161A4.002 4.002 0 0 0 4 6c0 .628-.134 2.197-.459 3.742-.16.767-.376 1.566-.663 2.258h10.244c-.287-.692-.502-1.49-.663-2.258C12.134 8.197 12 6.628 12 6a4.002 4.002 0 0 0-3.203-3.92L8 1.917zM14.22 12c.223.447.481.801.78 1H1c.299-.199.557-.553.78-1C2.68 10.2 3 6.88 3 6c0-2.42 1.72-4.44 4.005-4.901a1 1 0 1 1 1.99 0A5.002 5.002 0 0 1 13 6c0 .88.32 4.2 1.22 6z" />
                                </svg>
                                <span class="icon-badge">3</span>
                            </a><!--//dropdown-toggle-->

                            <div class="dropdown-menu p-0" aria-labelledby="notifications-dropdown-toggle">
                                <div class="dropdown-menu-header p-3">
                                    <h5 class="dropdown-menu-title mb-0">Notifications</h5>
                                </div><!--//dropdown-menu-title-->
                                <div class="dropdown-menu-content">
                                    <div class="item p-3">
                                        <div class="row gx-2 justify-content-between align-items-center">
                                            <div class="col-auto">
                                                <img class="profile-image" src="assets/images/profiles/profile-1.png"
                                                    alt="">
                                            </div><!--//col-->
                                            <div class="col">
                                                <div class="info">
                                                    <div class="desc">Amy shared a file with you. Lorem ipsum dolor sit
                                                        amet, consectetur adipiscing elit. </div>
                                                    <div class="meta"> 2 hrs ago</div>
                                                </div>
                                            </div><!--//col-->
                                        </div><!--//row-->
                                        <a class="link-mask" href="notifications.html"></a>
                                    </div><!--//item-->
                                    <div class="item p-3">
                                        <div class="row gx-2 justify-content-between align-items-center">
                                            <div class="col-auto">
                                                <div class="app-icon-holder">
                                                    <svg width="1em" height="1em" viewBox="0 0 16 16"
                                                        class="bi bi-receipt" fill="currentColor"
                                                        xmlns="http://www.w3.org/2000/svg">
                                                        <path fill-rule="evenodd"
                                                            d="M1.92.506a.5.5 0 0 1 .434.14L3 1.293l.646-.647a.5.5 0 0 1 .708 0L5 1.293l.646-.647a.5.5 0 0 1 .708 0L7 1.293l.646-.647a.5.5 0 0 1 .708 0L9 1.293l.646-.647a.5.5 0 0 1 .708 0l.646.647.646-.647a.5.5 0 0 1 .708 0l.646.647.646-.647a.5.5 0 0 1 .801.13l.5 1A.5.5 0 0 1 15 2v12a.5.5 0 0 1-.053.224l-.5 1a.5.5 0 0 1-.8.13L13 14.707l-.646.647a.5.5 0 0 1-.708 0L11 14.707l-.646.647a.5.5 0 0 1-.708 0L9 14.707l-.646.647a.5.5 0 0 1-.708 0L7 14.707l-.646.647a.5.5 0 0 1-.708 0L5 14.707l-.646.647a.5.5 0 0 1-.708 0L3 14.707l-.646.647a.5.5 0 0 1-.801-.13l-.5-1A.5.5 0 0 1 1 14V2a.5.5 0 0 1 .053-.224l.5-1a.5.5 0 0 1 .367-.27zm.217 1.338L2 2.118v11.764l.137.274.51-.51a.5.5 0 0 1 .707 0l.646.647.646-.646a.5.5 0 0 1 .708 0l.646.646.646-.646a.5.5 0 0 1 .708 0l.646.646.646-.646a.5.5 0 0 1 .708 0l.646.646.646-.646a.5.5 0 0 1 .708 0l.646.646.646-.646a.5.5 0 0 1 .708 0l.509.509.137-.274V2.118l-.137-.274-.51.51a.5.5 0 0 1-.707 0L12 1.707l-.646.647a.5.5 0 0 1-.708 0L10 1.707l-.646.647a.5.5 0 0 1-.708 0L8 1.707l-.646.647a.5.5 0 0 1-.708 0L6 1.707l-.646.647a.5.5 0 0 1-.708 0L4 1.707l-.646.647a.5.5 0 0 1-.708 0l-.509-.51z" />
                                                        <path fill-rule="evenodd"
                                                            d="M3 4.5a.5.5 0 0 1 .5-.5h6a.5.5 0 1 1 0 1h-6a.5.5 0 0 1-.5-.5zm0 2a.5.5 0 0 1 .5-.5h6a.5.5 0 1 1 0 1h-6a.5.5 0 0 1-.5-.5zm0 2a.5.5 0 0 1 .5-.5h6a.5.5 0 1 1 0 1h-6a.5.5 0 0 1-.5-.5zm0 2a.5.5 0 0 1 .5-.5h6a.5.5 0 0 1 0 1h-6a.5.5 0 0 1-.5-.5zm8-6a.5.5 0 0 1 .5-.5h1a.5.5 0 0 1 0 1h-1a.5.5 0 0 1-.5-.5zm0 2a.5.5 0 0 1 .5-.5h1a.5.5 0 0 1 0 1h-1a.5.5 0 0 1-.5-.5zm0 2a.5.5 0 0 1 .5-.5h1a.5.5 0 0 1 0 1h-1a.5.5 0 0 1-.5-.5zm0 2a.5.5 0 0 1 .5-.5h1a.5.5 0 0 1 0 1h-1a.5.5 0 0 1-.5-.5z" />
                                                    </svg>
                                                </div>
                                            </div><!--//col-->
                                            <div class="col">
                                                <div class="info">
                                                    <div class="desc">You have a new invoice. Proin venenatis interdum
                                                        est.</div>
                                                    <div class="meta"> 1 day ago</div>
                                                </div>
                                            </div><!--//col-->
                                        </div><!--//row-->
                                        <a class="link-mask" href="notifications.html"></a>
                                    </div><!--//item-->
                                    <div class="item p-3">
                                        <div class="row gx-2 justify-content-between align-items-center">
                                            <div class="col-auto">
                                                <div class="app-icon-holder icon-holder-mono">
                                                    <svg width="1em" height="1em" viewBox="0 0 16 16"
                                                        class="bi bi-bar-chart-line" fill="currentColor"
                                                        xmlns="http://www.w3.org/2000/svg">
                                                        <path fill-rule="evenodd"
                                                            d="M11 2a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1v12h.5a.5.5 0 0 1 0 1H.5a.5.5 0 0 1 0-1H1v-3a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1v3h1V7a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1v7h1V2zm1 12h2V2h-2v12zm-3 0V7H7v7h2zm-5 0v-3H2v3h2z" />
                                                    </svg>
                                                </div>
                                            </div><!--//col-->
                                            <div class="col">
                                                <div class="info">
                                                    <div class="desc">Your report is ready. Proin venenatis interdum
                                                        est.</div>
                                                    <div class="meta"> 3 days ago</div>
                                                </div>
                                            </div><!--//col-->
                                        </div><!--//row-->
                                        <a class="link-mask" href="notifications.html"></a>
                                    </div><!--//item-->
                                    <div class="item p-3">
                                        <div class="row gx-2 justify-content-between align-items-center">
                                            <div class="col-auto">
                                                <img class="profile-image" src="assets/images/profiles/profile-2.png"
                                                    alt="">
                                            </div><!--//col-->
                                            <div class="col">
                                                <div class="info">
                                                    <div class="desc">James sent you a new message.</div>
                                                    <div class="meta"> 7 days ago</div>
                                                </div>
                                            </div><!--//col-->
                                        </div><!--//row-->
                                        <a class="link-mask" href="notifications.html"></a>
                                    </div><!--//item-->
                                </div><!--//dropdown-menu-content-->

                                <div class="dropdown-menu-footer p-2 text-center">
                                    <a href="notifications.html">View all</a>
                                </div>

                            </div><!--//dropdown-menu-->
                        </div><!--//app-utility-item-->
                        <div class="app-utility-item">
                            <a href="settings.html" title="Settings">
                                <!--//Bootstrap Icons: https://icons.getbootstrap.com/ -->
                                <svg width="1em" height="1em" viewBox="0 0 16 16" class="bi bi-gear icon"
                                    fill="currentColor" xmlns="http://www.w3.org/2000/svg">
                                    <path fill-rule="evenodd"
                                        d="M8.837 1.626c-.246-.835-1.428-.835-1.674 0l-.094.319A1.873 1.873 0 0 1 4.377 3.06l-.292-.16c-.764-.415-1.6.42-1.184 1.185l.159.292a1.873 1.873 0 0 1-1.115 2.692l-.319.094c-.835.246-.835 1.428 0 1.674l.319.094a1.873 1.873 0 0 1 1.115 2.693l-.16.291c-.415.764.42 1.6 1.185 1.184l.292-.159a1.873 1.873 0 0 1 2.692 1.116l.094.318c.246.835 1.428.835 1.674 0l.094-.319a1.873 1.873 0 0 1 2.693-1.115l.291.16c.764.415 1.6-.42 1.184-1.185l-.159-.291a1.873 1.873 0 0 1 1.116-2.693l.318-.094c.835-.246.835-1.428 0-1.674l-.319-.094a1.873 1.873 0 0 1-1.115-2.692l.16-.292c.415-.764-.42-1.6-1.185-1.184l-.291.159A1.873 1.873 0 0 1 8.93 1.945l-.094-.319zm-2.633-.283c.527-1.79 3.065-1.79 3.592 0l.094.319a.873.873 0 0 0 1.255.52l.292-.16c1.64-.892 3.434.901 2.54 2.541l-.159.292a.873.873 0 0 0 .52 1.255l.319.094c1.79.527 1.79 3.065 0 3.592l-.319.094a.873.873 0 0 0-.52 1.255l.16.292c.893 1.64-.902 3.434-2.541 2.54l-.292-.159a.873.873 0 0 0-1.255.52l-.094.319c-.527 1.79-3.065 1.79-3.592 0l-.094-.319a.873.873 0 0 0-1.255-.52l-.292.16c-1.64.893-3.433-.902-2.54-2.541l.159-.292a.873.873 0 0 0-.52-1.255l-.319-.094c-1.79-.527-1.79-3.065 0-3.592l.319-.094a.873.873 0 0 0 .52-1.255l-.16-.292c-.892-1.64.902-3.433 2.541-2.54l.292.159a.873.873 0 0 0 1.255-.52l.094-.319z" />
                                    <path fill-rule="evenodd"
                                        d="M8 5.754a2.246 2.246 0 1 0 0 4.492 2.246 2.246 0 0 0 0-4.492zM4.754 8a3.246 3.246 0 1 1 6.492 0 3.246 3.246 0 0 1-6.492 0z" />
                                </svg>
                            </a>
                        </div><!--//app-utility-item-->

                        <div class="app-utility-item app-user-dropdown dropdown">
                            <a class="dropdown-toggle" id="user-dropdown-toggle" data-bs-toggle="dropdown" href="#"
                                role="button" aria-expanded="false"><img src="/assets/images/user.png"
                                    alt="user profile"></a>
                            <ul class="dropdown-menu" aria-labelledby="user-dropdown-toggle">
                                <li><a class="dropdown-item" href="account.html">Account</a></li>
                                <li><a class="dropdown-item" href="settings.html">Settings</a></li>
                                <li>
                                    <hr class="dropdown-divider">
                                </li>
                                <li><a class="dropdown-item" href="login.html">Log Out</a></li>
                            </ul>
                        </div><!--//app-user-dropdown-->
                    </div><!--//app-utilities-->
                </div><!--//row-->
            </div><!--//app-header-content-->
        </div><!--//container-fluid-->
    </div><!--//app-header-inner-->
    <div id="app-sidepanel" class="app-sidepanel">
        <div id="sidepanel-drop" class="sidepanel-drop"></div>
        <div class="sidepanel-inner d-flex flex-column">
            <a href="#" id="sidepanel-close" class="sidepanel-close d-xl-none">&times;</a>
            <div class="app-branding">
                <a class="app-logo" href="/"><img class="logo-icon me-2" src="/assets/images/app-logo.svg"
                        alt="logo"><span class="logo-text">PORTAL</span></a>

            </div><!--//app-branding-->

            <nav id="app-nav-main" class="app-nav app-nav-main flex-grow-1">
                <ul class="app-menu list-unstyled accordion" id="menu-accordion">
                    <li class="nav-item">
                        <!--//Bootstrap Icons: https://icons.getbootstrap.com/ -->
                        <a class="nav-link" href="/">
                            <span class="nav-icon">
                                <svg width="1em" height="1em" viewBox="0 0 16 16" class="bi bi-house-door"
                                    fill="currentColor" xmlns="http://www.w3.org/2000/svg">
                                    <path fill-rule="evenodd"
                                        d="M7.646 1.146a.5.5 0 0 1 .708 0l6 6a.5.5 0 0 1 .146.354v7a.5.5 0 0 1-.5.5H9.5a.5.5 0 0 1-.5-.5v-4H7v4a.5.5 0 0 1-.5.5H2a.5.5 0 0 1-.5-.5v-7a.5.5 0 0 1 .146-.354l6-6zM2.5 7.707V14H6v-4a.5.5 0 0 1 .5-.5h3a.5.5 0 0 1 .5.5v4h3.5V7.707L8 2.207l-5.5 5.5z" />
                                    <path fill-rule="evenodd"
                                        d="M13 2.5V6l-2-2V2.5a.5.5 0 0 1 .5-.5h1a.5.5 0 0 1 .5.5z" />
                                </svg>
                            </span>
                            <span class="nav-link-text">Dashboard</span>
                        </a><!--//nav-link-->
                    </li>
                    <li class="nav-item has-submenu">
                        <!--//Bootstrap Icons: https://icons.getbootstrap.com/ -->
                        <a class="nav-link submenu-toggle active" href="#" data-bs-toggle="collapse"
                            data-bs-target="#submenu-1" aria-expanded="false" aria-controls="submenu-1">
                            <span class="nav-icon">
                                <!--//Bootstrap Icons: https://icons.getbootstrap.com/ -->
                                <svg width="1em" height="1em" viewBox="0 0 16 16" class="bi bi-files"
                                    fill="currentColor" xmlns="http://www.w3.org/2000/svg">
                                    <path
                                        d="M0 1a1 1 0 0 1 1-1h14a1 1 0 0 1 1 1v14a1 1 0 0 1-1 1H1a1 1 0 0 1-1-1V1zm4 0v6h8V1H4zm8 8H4v6h8V9zM1 1v2h2V1H1zm2 3H1v2h2V4zM1 7v2h2V7H1zm2 3H1v2h2v-2zm-2 3v2h2v-2H1zM15 1h-2v2h2V1zm-2 3v2h2V4h-2zm2 3h-2v2h2V7zm-2 3v2h2v-2h-2zm2 3h-2v2h2v-2z" />
                                </svg>
                            </span>
                            <span class="nav-link-text">Film</span>
                            <span class="submenu-arrow">
                                <svg width="1em" height="1em" viewBox="0 0 16 16" class="bi bi-chevron-down"
                                    fill="currentColor" xmlns="http://www.w3.org/2000/svg">
                                    <path fill-rule="evenodd"
                                        d="M1.646 4.646a.5.5 0 0 1 .708 0L8 10.293l5.646-5.647a.5.5 0 0 1 .708.708l-6 6a.5.5 0 0 1-.708 0l-6-6a.5.5 0 0 1 0-.708z" />
                                </svg>
                            </span><!--//submenu-arrow-->
                        </a><!--//nav-link-->

                        <div id="submenu-1" class="collapse submenu submenu-1 show" data-bs-parent="#menu-accordion">
                            <ul class="submenu-list list-unstyled">
                                <li class="submenu-item"><a class="submenu-link active" href="/admin/film/new">New
                                        Film</a>
                                </li>
                                <li class="submenu-item"><a class="submenu-link" href="/admin/film?limit=10&page=1">List
                                        Film</a>
                                </li>
                                {{!-- <li class="submenu-item"><a class="submenu-link"
                                        href="/admin/film/1/detail">Detail
                                        Film</a></li> --}}

                            </ul>
                        </div>
                    </li><!--//nav-item-->
                    <li class="nav-item has-submenu">
                        <!--//Bootstrap Icons: https://icons.getbootstrap.com/ -->
                        <a class="nav-link submenu-toggle" href="#" data-bs-toggle="collapse"
                            data-bs-target="#submenu-2" aria-expanded="false" aria-controls="submenu-2">
                            <span class="nav-icon">
                                <!--//Bootstrap Icons: https://icons.getbootstrap.com/ -->
                                <svg width="1em" height="1em" viewBox="0 0 16 16" class="bi bi-columns-gap"
                                    fill="currentColor" xmlns="http://www.w3.org/2000/svg">
                                    <path
                                        d="M2 3a.5.5 0 0 0 .5.5h11a.5.5 0 0 0 0-1h-11A.5.5 0 0 0 2 3zm2-2a.5.5 0 0 0 .5.5h7a.5.5 0 0 0 0-1h-7A.5.5 0 0 0 4 1zm2.765 5.576A.5.5 0 0 0 6 7v5a.5.5 0 0 0 .765.424l4-2.5a.5.5 0 0 0 0-.848l-4-2.5z" />
                                    <path
                                        d="M1.5 14.5A1.5 1.5 0 0 1 0 13V6a1.5 1.5 0 0 1 1.5-1.5h13A1.5 1.5 0 0 1 16 6v7a1.5 1.5 0 0 1-1.5 1.5h-13zm13-1a.5.5 0 0 0 .5-.5V6a.5.5 0 0 0-.5-.5h-13A.5.5 0 0 0 1 6v7a.5.5 0 0 0 .5.5h13z" />
                                </svg>
                            </span>
                            <span class="nav-link-text">Episode</span>
                            <span class="submenu-arrow">
                                <svg width="1em" height="1em" viewBox="0 0 16 16" class="bi bi-chevron-down"
                                    fill="currentColor" xmlns="http://www.w3.org/2000/svg">
                                    <path fill-rule="evenodd"
                                        d="M1.646 4.646a.5.5 0 0 1 .708 0L8 10.293l5.646-5.647a.5.5 0 0 1 .708.708l-6 6a.5.5 0 0 1-.708 0l-6-6a.5.5 0 0 1 0-.708z" />
                                </svg>
                            </span><!--//submenu-arrow-->
                        </a><!--//nav-link-->
                        <div id="submenu-2" class="collapse submenu submenu-2" data-bs-parent="#menu-accordion">
                            <ul class="submenu-list list-unstyled">
                                <li class="submenu-item"><a class="submenu-link" href="/admin/episode/new">New
                                        Episode</a></li>
                                <li class="submenu-item"><a class="submenu-link" href="/admin/episode">List Episode</a>
                                </li>
                                {{!-- <li class="submenu-item"><a class="submenu-link"
                                        href="/admin/episode/0/detail">Detail
                                        Episode</a></li> --}}
                            </ul>
                        </div>
                    </li><!--//nav-item-->

                    <li class="nav-item has-submenu">
                        <!--//Bootstrap Icons: https://icons.getbootstrap.com/ -->
                        <a class="nav-link submenu-toggle" href="#" data-bs-toggle="collapse"
                            data-bs-target="#submenu-3" aria-expanded="false" aria-controls="submenu-3">
                            <span class="nav-icon">
                                <!--//Bootstrap Icons: https://icons.getbootstrap.com/ -->
                                <svg width="1em" height="1em" viewBox="0 0 16 16" class="bi bi-columns-gap"
                                    fill="currentColor" xmlns="http://www.w3.org/2000/svg">
                                    <path fill-rule="evenodd"
                                        d="M6 1H1v3h5V1zM1 0a1 1 0 0 0-1 1v3a1 1 0 0 0 1 1h5a1 1 0 0 0 1-1V1a1 1 0 0 0-1-1H1zm14 12h-5v3h5v-3zm-5-1a1 1 0 0 0-1 1v3a1 1 0 0 0 1 1h5a1 1 0 0 0 1-1v-3a1 1 0 0 0-1-1h-5zM6 8H1v7h5V8zM1 7a1 1 0 0 0-1 1v7a1 1 0 0 0 1 1h5a1 1 0 0 0 1-1V8a1 1 0 0 0-1-1H1zm14-6h-5v7h5V1zm-5-1a1 1 0 0 0-1 1v7a1 1 0 0 0 1 1h5a1 1 0 0 0 1-1V1a1 1 0 0 0-1-1h-5z" />
                                </svg>
                            </span>
                            <span class="nav-link-text">Categories</span>
                            <span class="submenu-arrow">
                                <svg width="1em" height="1em" viewBox="0 0 16 16" class="bi bi-chevron-down"
                                    fill="currentColor" xmlns="http://www.w3.org/2000/svg">
                                    <path fill-rule="evenodd"
                                        d="M1.646 4.646a.5.5 0 0 1 .708 0L8 10.293l5.646-5.647a.5.5 0 0 1 .708.708l-6 6a.5.5 0 0 1-.708 0l-6-6a.5.5 0 0 1 0-.708z" />
                                </svg>
                            </span><!--//submenu-arrow-->
                        </a><!--//nav-link-->
                        <div id="submenu-3" class="collapse submenu submenu-3" data-bs-parent="#menu-accordion">
                            <ul class="submenu-list list-unstyled">
                                {{!-- <li class="submenu-item"><a class="submenu-link" href="/admin/categories/new">New
                                        Categories</a></li> --}}
                                <li class="submenu-item"><a class="submenu-link" href="/admin/categories">List
                                        Categories</a>
                                </li>
                                {{!-- <li class="submenu-item"><a class="submenu-link"
                                        href="/admin/categories/0/detail">Detail
                                        Categories</a></li> --}}
                            </ul>
                        </div>
                    </li><!--//nav-item-->

                </ul><!--//app-menu-->
            </nav><!--//app-nav-->
            <div class="app-sidepanel-footer">
                <nav class="app-nav app-nav-footer">
                    <ul class="app-menu footer-menu list-unstyled">
                        {{!-- <li class="nav-item">
                            <!--//Bootstrap Icons: https://icons.getbootstrap.com/ -->
                            <a class="nav-link" href="settings.html">
                                <span class="nav-icon">
                                    <svg width="1em" height="1em" viewBox="0 0 16 16" class="bi bi-gear"
                                        fill="currentColor" xmlns="http://www.w3.org/2000/svg">
                                        <path fill-rule="evenodd"
                                            d="M8.837 1.626c-.246-.835-1.428-.835-1.674 0l-.094.319A1.873 1.873 0 0 1 4.377 3.06l-.292-.16c-.764-.415-1.6.42-1.184 1.185l.159.292a1.873 1.873 0 0 1-1.115 2.692l-.319.094c-.835.246-.835 1.428 0 1.674l.319.094a1.873 1.873 0 0 1 1.115 2.693l-.16.291c-.415.764.42 1.6 1.185 1.184l.292-.159a1.873 1.873 0 0 1 2.692 1.116l.094.318c.246.835 1.428.835 1.674 0l.094-.319a1.873 1.873 0 0 1 2.693-1.115l.291.16c.764.415 1.6-.42 1.184-1.185l-.159-.291a1.873 1.873 0 0 1 1.116-2.693l.318-.094c.835-.246.835-1.428 0-1.674l-.319-.094a1.873 1.873 0 0 1-1.115-2.692l.16-.292c.415-.764-.42-1.6-1.185-1.184l-.291.159A1.873 1.873 0 0 1 8.93 1.945l-.094-.319zm-2.633-.283c.527-1.79 3.065-1.79 3.592 0l.094.319a.873.873 0 0 0 1.255.52l.292-.16c1.64-.892 3.434.901 2.54 2.541l-.159.292a.873.873 0 0 0 .52 1.255l.319.094c1.79.527 1.79 3.065 0 3.592l-.319.094a.873.873 0 0 0-.52 1.255l.16.292c.893 1.64-.902 3.434-2.541 2.54l-.292-.159a.873.873 0 0 0-1.255.52l-.094.319c-.527 1.79-3.065 1.79-3.592 0l-.094-.319a.873.873 0 0 0-1.255-.52l-.292.16c-1.64.893-3.433-.902-2.54-2.541l.159-.292a.873.873 0 0 0-.52-1.255l-.319-.094c-1.79-.527-1.79-3.065 0-3.592l.319-.094a.873.873 0 0 0 .52-1.255l-.16-.292c-.892-1.64.902-3.433 2.541-2.54l.292.159a.873.873 0 0 0 1.255-.52l.094-.319z" />
                                        <path fill-rule="evenodd"
                                            d="M8 5.754a2.246 2.246 0 1 0 0 4.492 2.246 2.246 0 0 0 0-4.492zM4.754 8a3.246 3.246 0 1 1 6.492 0 3.246 3.246 0 0 1-6.492 0z" />
                                    </svg>
                                </span>
                                <span class="nav-link-text">Settings</span>
                            </a><!--//nav-link-->
                        </li><!--//nav-item--> --}}
                    </ul><!--//footer-menu-->
                </nav>
            </div><!--//app-sidepanel-footer-->

        </div><!--//sidepanel-inner-->
    </div><!--//app-sidepanel-->
</header><!--//app-header-->

<div class="app-wrapper">

    <div class="app-content pt-3 p-md-3 p-lg-4">
        <div class="container-xl">

            <div class="row g-3 mb-4 align-items-center justify-content-between">
                <div class="col-auto">
                    <h1 class="app-page-title mb-0">{{title}}</h1>
                </div>
                <div class="col-auto">
                </div><!--//col-auto-->
            </div><!--//row-->
        </div><!--//container-fluid-->
    </div><!--//app-content-->

    <div class="tab-content">
        <div class="container rounded p-2 shadow-sm">
            <form class="col-12 p-3" id="addFilmForm">
                <div class="row">
                    <div class="col-md-4">
                        <div style="position: relative;"
                            class="drag-image bg-primary rounded float-start img-fluid img-thumbnail">
                            <div class="icon"><i class="fas fa-cloud-upload-alt"></i></div>
                            <h6 style="text-align: center;">Drag & Drop Thumbnail Film Here</h6>
                            <span>OR</span>
                            <button type="button">Browse File</button>
                            <input type="file" name="thumbnail" hidden />
                        </div>
                    </div>
                    <div class="col-md-8">
                        <div class="col-12">
                            <div class="my-3">
                                <label for="filmName" class="form-label">Film Name</label>
                                <input type="text" class="form-control" name="filmName" id="filmName">
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-6">
                                <div class="my-3">
                                    <label for="trailer" class="form-label">Trailer video ID</label>
                                    <input type="text" class="form-control" name="trailer" id="trailer">
                                </div>
                            </div>
                            <div class="col-6">
                                <div class="my-3">
                                    <label for="totalEpisode" class="form-label">Total Episode</label>
                                    <input type="number" class="form-control" name="total_episode" id="total_episode">
                                </div>
                            </div>
                        </div>
                        <div class="col-12 my-3">
                            <label for="list_category" class="form-label">Categories</label>
                            <select id="list_category" data-placeholder="Select categories" name="list_category"
                                size="5" class="form-select" style="height: 40px !important;" multiple>
                                {{#each categories}}
                                <option value="{{this._id}}">{{this.name}}</option>
                                {{/each}}
                            </select>
                        </div>

                        <div class="row">
                            <div class="col-12 my-3">
                                <label for="collection" class="form-label">Collections</label>
                                <select id="collection" data-placeholder="Select " name="collection" class="form-select"
                                    style="height: 40px !important;">
                                    <option value="">Chọn bộ...</option>
                                    {{#each collections}}
                                    <option value="{{this._id}}">{{this.name}}</option>
                                    {{/each}}
                                </select>
                                <button type="button" class="btn btn-primary mt-3" onclick="handleAddCollection();"
                                    style="color: white;">Add
                                    Collection</button>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="row mt-3">
                    <div class="col-md-12">
                        <label for="floatingTextarea2">Description</label>
                        <textarea class="form-control" id="floatingTextarea2" name="synopsis"
                            style="height: 100px"></textarea>
                    </div>
                </div>
                <div class="row mt-3">
                    <div class="col-12">
                        <div class="drag-image-background bg-primary rounded container-fluid"
                            style="width: 100%; height: 350px; position: relative;">
                            <div class="icon"><i class="fas fa-cloud-upload-alt"></i></div>
                            <h6 style="text-align: center;">Drag & Drop Background Film Here</h6>
                            <span>OR</span>
                            <button type="button">Browse File</button>
                            <input type="file" name="background_medium" hidden />
                        </div>
                    </div>
                </div>
                <div class=" row">
                    <div class="col-6 mt-3">
                        <button type="button" onclick="handleClearData();" class="btn btn-danger align-end"
                            style="color: white;">Clear
                            Form</button>
                        <button type="button" onclick="handleUploadData();"
                            class="btn app-btn-primary align-end">Upload</button>
                    </div>
                </div>
            </form>
        </div>
    </div>
    <footer class="app-footer" onload="onLoad({{error}}, {{categories}})">
        <div class="container text-center py-3">
            <!--/* This template is free as long as you keep the footer attribution link. If you'd like to use the template without the attribution link, you can buy the commercial license via our website: themes.3rdwavemedia.com Thank you for your support. :) */-->
        </div>
    </footer><!--//app-footer-->

</div><!--//app-wrapper-->
<script>

    const form = document.querySelector("#addFilmForm");
    const dropThumbnailArea = document.querySelector(".drag-image"),
        dragThumbnailText = dropThumbnailArea.querySelector("h6"),
        buttonThumbnail = dropThumbnailArea.querySelector("button"),
        inputThumbnail = dropThumbnailArea.querySelector("input");

    const dropBackgroundArea = document.querySelector(".drag-image-background"),
        dragBackgroundText = dropBackgroundArea.querySelector("h6"),
        buttonBackground = dropBackgroundArea.querySelector("button"),
        inputBackground = dropBackgroundArea.querySelector("input");

    let imageThumbnail, imageBackground;
    let listCategories = [];

    $(document).ready(function () {
        $('#list_category').select2({
            width: "100%",
        }).on("change", function (e) {
            let currentSelectedData = $('#list_category').select2('data');
            listCategories = currentSelectedData.map(data => {
                return {
                    _id: data.id,
                    name: data.text
                }
            })
            console.log(listCategories);
        })
    });

    $("#collection").on('change', () => {
        console.log(form.collection.value)
    })

    const handleClearData = () => {
        form.reset();
    }

    const handleAddCollection = async () => {
        const { value: formValues } = await Swal.fire({
            title: 'Thêm bộ',
            html:
                '<input id="swal-input2" class="swal2-input">',
            focusConfirm: false,
            preConfirm: () => {
                return [
                    document.getElementById('swal-input2').value
                ]
            }
        })

        if (formValues) {
            Swal.fire({
                title: 'Đang thêm...',
                html: 'Vui lòng chờ...',
                allowEscapeKey: false,
                allowOutsideClick: false,
                didOpen: () => {
                    Swal.showLoading()
                }
            })
            let url = `/admin/collections/new`;
            const value = formValues[0]
            let bodyContent = JSON.stringify({
                "name": value
            });

            const res = await fetch(url, {
                method: "POST",
                headers: { "Content-Type": "application/json" },
                body: bodyContent,
            })

            const data = await res.json();
            Swal.close();
            if (!data.error) {
                Swal.fire({
                    title: "Hurray!",
                    text: "Thêm bộ thành công!",
                    icon: "success"
                })
                window.location.reload();
            } else {
                Swal.fire({
                    title: "Opsss!",
                    text: "Thêm bộ thất bại!",
                    icon: "error"
                })
            }
        }
    }

    const handleUploadData = async () => {
        if (
            form.filmName.length == 0 || form.synopsis.length == 0 ||
            form.total_episode.length == 0 || form.trailer.length == 0 ||
            imageThumbnail === undefined || imageBackground === undefined ||
            form.collection.value.length == 0 || listCategories.length === 0
        ) {
            swal.fire({
                title: "Cảnh báo!",
                icon: "warning",
                text: "Bạn phải điền đầy đủ thông tin vào form!"
            })
        } else {
            Swal.fire({
                title: 'Đang thêm...',
                text: 'Vui lòng chờ...',
                allowEscapeKey: false,
                allowOutsideClick: false,
                didOpen: () => {
                    Swal.showLoading()
                }
            })

            const formData = new FormData();

            formData.append("filmName", form.filmName.value);
            formData.append("trailer", form.trailer.value);
            formData.append("synopsis", form.synopsis.value);
            formData.append("total_episode", form.total_episode.value);
            formData.append("_id_collection", form.collection.value);
            formData.append("list_category", JSON.stringify(listCategories));
            formData.append("thumbnail", imageThumbnail);
            formData.append("background_medium", imageBackground);

            const url = '/admin/film/new'
            const result = await fetch(url, {
                method: 'POST',
                body: formData,
            });

            const res = await result.json();
            console.log(res);
            Swal.close();
            if (!res.error) {
                Swal.fire({
                    title: "Hurray!",
                    text: "Thêm thành công!",
                    icon: "success"
                })
                setTimeout(() => {
                    let bareUrl = window.location.host;
                    let startUrl = bareUrl.includes("localhost") ? "http://" : "https://";

                    console.log(bareUrl);
                    window.location.assign(new URL(startUrl.concat(bareUrl).concat(result.urlRedirect)));
                }, 500)
            } else {
                Swal.fire({
                    title: "Opss!",
                    text: "Thêm thất bại :<!",
                    icon: "error"
                })
            }
        }
    }

    function onLoad(error, categories) {
        console.log(categories);
        console.log("vào hàm")
        if (Boolean(error)) {

            Swal.fire({
                title: "Có lỗi",
                text: "Có lỗi xảy ra!",
                icon: "error",
            })
        }
    }

    //thumbnail
    buttonThumbnail.onclick = (e) => {
        e.preventDefault();
        inputThumbnail.click();
    }

    //background
    buttonBackground.onclick = (e) => {
        e.preventDefault();
        inputBackground.click();
    }

    //thumbnail
    inputThumbnail.addEventListener("change", function () {
        imageThumbnail = this.files[0];
        dropThumbnailArea.classList.add("active");
        viewfile(dropThumbnailArea, dragThumbnailText, imageThumbnail, "thumbnail");
    });

    //background
    inputBackground.addEventListener("change", function () {
        imageBackground = this.files[0];
        dropBackgroundArea.classList.add("active");
        viewfile(dropBackgroundArea, dragBackgroundText, imageBackground, "backgroundMedium");
    });

    //thumbnail
    dropThumbnailArea.addEventListener("dragover", (event) => {
        event.preventDefault();
        dropThumbnailArea.classList.add("active");
        dragThumbnailText.textContent = "Release to Upload File";
    });

    //background
    dropBackgroundArea.addEventListener("dragover", (event) => {
        event.preventDefault();
        dropBackgroundArea.classList.add("active");
        dragBackgroundText.textContent = "Release to Upload File";
    });

    //thumbnail
    dropThumbnailArea.addEventListener("dragleave", () => {
        dropThumbnailArea.classList.remove("active");
        dragThumbnailText.textContent = "Drag & Drop to Upload File";
    });

    //background
    dropBackgroundArea.addEventListener("dragleave", () => {
        dropThumbnailArea.classList.remove("active");
        dragBackgroundText.textContent = "Drag & Drop to Upload File";
    });

    //thumbnail
    dropThumbnailArea.addEventListener("drop", (event) => {
        event.preventDefault();
        imageThumbnail = event.dataTransfer.files[0];
        viewfile(dropThumbnailArea, dragThumbnailText, imageThumbnail, "thumbnail");
    });

    //background
    dropBackgroundArea.addEventListener("drop", (event) => {
        event.preventDefault();
        imageBackground = event.dataTransfer.files[0];
        viewfile(dropBackgroundArea, dragBackgroundText, imageBackground, "backgroundMedium");
    });

    function viewfile(dropArea, dragText, image, type) {
        let fileType = image.type;
        console.log(imageThumbnail)
        let validExtensions = ["image/jpeg", "image/jpg", "image/png"];
        if (validExtensions.includes(fileType)) {
            let fileReader = new FileReader();
            fileReader.onload = () => {
                let fileURL = fileReader.result;
                let imgTag = `
                    <img style="
                            position: absolute; 
                            z-index: 10;
                            top: 0;
                            right: 0;
                            " src="${fileURL}" />`;
                dropArea.innerHTML += imgTag;


                let container = new DataTransfer();
                container.items.add(image);
                if (type === "thumbnail") {
                    form.thumbnail.files = container.files;
                } else {
                    form.background_medium.files = container.files;
                }
            }
            fileReader.readAsDataURL(image);
        } else {
            alert("This is not an Image File!");
            dropArea.classList.remove("active");
            dragText.textContent = "Drag & Drop to Upload File";
        }
    }
</script>